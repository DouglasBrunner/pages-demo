{%- comment -%}
  Parameters:
  - name: The name of the collection to loop through.
          The base path is automatically constructed as "/{{ name }}/".
          (Defaults to "specification" if not provided.)
{%- endcomment -%}

{% assign name = include.name %}
{% assign collection_name = name %}
{% assign base_path = "/" | append: name | append: "/" %}

{% for item in site[collection_name] %}
  {%- assign clean_url = item.url | remove: base_path -%}
  {%- assign parts = clean_url | split: "/" -%}
  <ul>
    <li>
      {% assign cumulative = base_path %}
      {% for part in parts %}
        {% assign cumulative = cumulative | append: part %}
        <a href="{{ cumulative | relative_url }}">{{ part }}</a>
        {% if forloop.last == false %}
          {% assign cumulative = cumulative | append: "/" %}
          &nbsp;->&nbsp;
        {% endif %}
      {% endfor %}
    </li>
  </ul>
{% endfor %}
